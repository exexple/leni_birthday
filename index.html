<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Happy Birthday Leni ü´∂ üéÄ</title>
<style>
  :root{
    --baby-pink:#ffcfe8;
    --pink:#ffa7d1;
    --hot-pink:#ff6fb7;
    --white:#ffffff;
    --soft-white:#fff7fb;
    --text:#7a2558;
    --shadow:0 10px 30px rgba(255,111,183,0.25);
    --shadow-strong:0 20px 50px rgba(255,111,183,0.4);
  }

  html,body{
    height:100%;
    margin:0;
    background: linear-gradient(180deg, var(--soft-white), var(--baby-pink));
    font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
    color:var(--text);
    overflow-x:hidden;
  }

  .container{
    max-width: 980px;
    margin: 0 auto;
    padding: 20px 16px 120px;
    position:relative;
  }

  /* Floating emojis/hearts ambient */
  .float-layer{
    pointer-events:none;
    position:fixed;
    inset:0;
    overflow:hidden;
    z-index:1;
  }
  .float{
    position:absolute;
    font-size: clamp(18px, 3vw, 26px);
    animation: floatUp linear infinite;
    opacity:0.9;
    filter: drop-shadow(0 4px 10px rgba(255,111,183,0.25));
  }
  @keyframes floatUp{
    0%{ transform: translateY(110vh) translateX(var(--x,0)); opacity:0; }
    10%{ opacity:1; }
    100%{ transform: translateY(-15vh) translateX(calc(var(--x,0) + 20px)); opacity:0; }
  }

  /* Floating top message */
  .floating-message{
    position: fixed;
    top: 14px;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(90deg, var(--white), var(--baby-pink));
    color: var(--text);
    padding: 10px 18px;
    border-radius: 999px;
    box-shadow: var(--shadow);
    font-weight: 600;
    z-index: 3;
    display:flex;
    align-items:center;
    gap:10px;
    animation: gentleFloat 4s ease-in-out infinite;
  }
  @keyframes gentleFloat{
    0%,100%{ transform: translate(-50%,0); }
    50%{ transform: translate(-50%,6px); }
  }

  /* Banners */
  .banner{
    margin-top: 80px;
    background: var(--baby-pink);
    border: 2px dashed var(--hot-pink);
    border-radius: 18px;
    padding: 24px;
    text-align:center;
    box-shadow: var(--shadow);
    position: relative;
    overflow:hidden;
  }
  .banner h1{
    margin:0;
    font-size: clamp(20px, 4.5vw, 34px);
    line-height:1.25;
  }
  .sub{
    margin-top: 10px;
    font-size: clamp(14px, 2.5vw, 18px);
    opacity:0.9;
  }

  /* Buttons */
  .btn{
    appearance:none;
    border:none;
    background: linear-gradient(180deg, var(--pink), var(--hot-pink));
    color:white;
    border-radius: 14px;
    padding: 12px 18px;
    font-weight:700;
    letter-spacing:0.2px;
    cursor:pointer;
    box-shadow: var(--shadow);
    transition: transform .12s ease, box-shadow .2s ease, filter .2s ease;
  }
  .btn:active{ transform: translateY(1px) scale(0.98); }
  .btn:hover{ filter: brightness(1.05); box-shadow: var(--shadow-strong); }

  .center{ display:flex; justify-content:center; margin-top:16px; }

  /* Stage wrapper */
  .stage{
    margin-top: 24px;
    background: var(--white);
    border-radius: 16px;
    box-shadow: var(--shadow);
    padding: 18px;
  }

  /* Lights off overlay */
  .dark-overlay{
    position: fixed;
    inset:0;
    background: radial-gradient( circle at center, rgba(0,0,0,0.15), rgba(0,0,0,0.85) 60%);
    backdrop-filter: blur(2px);
    display:none;
    align-items:center;
    justify-content:center;
    z-index: 5;
  }
  .dark-overlay.show{ display:flex; animation: fadeIn .35s ease; }
  @keyframes fadeIn{ from{ opacity:0 } to{ opacity:1 } }

  .lights-btn{
    background: linear-gradient(180deg, #ffd1ea, #ff9dd1);
    color: #7a2558;
  }

  /* Decorations */
  .decor-area{
    position: relative;
    min-height: 160px;
    display:flex;
    align-items:center;
    justify-content:center;
    overflow: hidden;
  }

  /* Ribbon banner */
  .ribbon{
    position:absolute;
    top:12px;
    left:50%;
    transform: translateX(-50%) rotate(-1deg);
    background: repeating-linear-gradient(45deg, var(--hot-pink), var(--hot-pink) 10px, var(--pink) 10px, var(--pink) 20px);
    color:white;
    padding:10px 18px;
    border-radius: 10px;
    box-shadow: var(--shadow-strong);
    font-weight:800;
    letter-spacing:0.5px;
    display:none;
  }
  .ribbon.show{ display:block; animation: pop .35s ease; }
  @keyframes pop{ from{ transform: translateX(-50%) scale(.85) rotate(-1deg); opacity:0 } to{ transform: translateX(-50%) scale(1) rotate(-1deg); opacity:1 } }

  /* Balloons */
  .balloon{
    position: absolute;
    bottom:-120px;
    width: 40px;
    height: 52px;
    border-radius: 50% 50% 45% 45%;
    box-shadow: inset 0 -8px 16px rgba(0,0,0,0.08), var(--shadow);
    animation: rise 7s linear infinite;
  }
  .balloon::after{
    content:"";
    position:absolute;
    bottom:-22px;
    left:50%;
    width:2px;
    height:70px;
    background: rgba(0,0,0,0.2);
    transform: translateX(-50%);
  }
  @keyframes rise{
    0%{ transform: translateY(0) translateX(0) rotate(2deg); opacity:0 }
    10%{ opacity:1 }
    100%{ transform: translateY(-120vh) translateX(-30px) rotate(-4deg); opacity:0.8 }
  }

  /* Cake */
  .cake-area{
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:12px;
    padding: 20px 0 10px;
  }
  .cake{
    position: relative;
    width: 220px;
    height: 160px;
  }
  .tier{
    position:absolute;
    left:50%;
    transform: translateX(-50%);
    background: var(--baby-pink);
    border: 2px solid var(--pink);
    box-shadow: var(--shadow);
  }
  .tier.t1{ bottom:0; width: 220px; height: 70px; border-radius: 14px; }
  .tier.t2{ bottom:55px; width: 160px; height: 60px; border-radius: 12px; }
  .tier.t3{ bottom:105px; width: 100px; height: 50px; border-radius: 10px; }

  /* Icing drips */
  .drip{
    position:absolute;
    top:-10px;
    left:0;
    right:0;
    height: 18px;
    background: linear-gradient(180deg, #fff, #ffe3f0);
    border-radius:10px 10px 0 0;
    overflow: visible;
  }
  .drip::before,.drip::after{
    content:"";
    position:absolute;
    width:16px; height:22px;
    background: #ffe3f0;
    border-radius: 12px;
    top:10px;
  }
  .drip::before{ left:24px }
  .drip::after{ right:26px }

  /* Candles */
  .candles{
    position:absolute;
    bottom: 138px;
    left:50%;
    transform: translateX(-50%);
    display:flex; gap:10px;
  }
  .candle{
    width: 10px; height: 36px;
    background: repeating-linear-gradient(90deg, #ff77b4 0 5px, #ffd1ea 5px 10px);
    border-radius:4px;
    position:relative;
    box-shadow: 0 2px 0 rgba(0,0,0,0.1) inset;
  }
  .flame{
    position:absolute;
    top:-16px; left:50%;
    width: 12px; height: 18px;
    background: radial-gradient(ellipse at center, #ffd56a 0%, #ff9a3c 60%, rgba(255,154,60,0.2) 100%);
    border-radius: 50% 50% 50% 50%;
    transform: translateX(-50%);
    animation: flicker 0.18s infinite alternate ease-in-out;
    box-shadow: 0 0 12px 4px rgba(255,190,90,0.6);
  }
  @keyframes flicker{
    from{ transform: translateX(-50%) scale(1); filter: brightness(1) }
    to{ transform: translateX(-50%) scale(0.92); filter: brightness(1.15) }
  }
  .flame.off{ display:none; }

  /* Cut effect */
  .slice{
    position:absolute;
    bottom:0; left:50%;
    transform: translateX(-50%);
    width: 220px; height: 70px; border-radius: 14px;
    background: transparent;
    box-shadow: none;
  }
  .slice.cut{
    animation: sliceOut .6s ease forwards;
  }
  @keyframes sliceOut{
    to{ transform: translate(90px, -20px) rotate(6deg); opacity:0 }
  }

  /* Long message blocks */
  .msg{
    background: var(--soft-white);
    border: 1px solid var(--baby-pink);
    border-radius: 14px;
    padding: 16px;
    box-shadow: var(--shadow);
    line-height: 1.6;
  }
  .msg p{ margin: 10px 0; }

  /* Staging buttons spacing */
  .actions{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top:14px; }

  /* Smooth show/hide utility */
  .hidden{ display:none !important; }
  .fade-in{ animation: fadeIn .35s ease; }

  /* Accessibility focus */
  .btn:focus-visible{ outline: 3px solid #ffbee0; outline-offset: 2px; }

  /* Footer spacer */
  .spacer{ height: 80px }

</style>
</head>
<body>

<!-- Floating top message -->
<div class="floating-message">üéÄ happy birthday madam üéÄ üíó ‚ú® ü´∂üèº</div>

<!-- Floating hearts/emojis layer -->
<div class="float-layer" id="floatLayer" aria-hidden="true"></div>

<div class="container">
  <!-- Banner 1 -->
  <section id="banner1" class="banner fade-in" aria-live="polite">
    <h1>so it's your special day eh, I'm so so so happy yayayayayayyyyyyy</h1>
    <div class="sub">baby-pink vibes incoming üéÄ</div>
  </section>

  <!-- Banner 2 -->
  <section id="banner2" class="banner hidden" aria-live="polite">
    <h1>i made something specially for you, wanna see?</h1>
    <div class="center">
      <button class="btn" id="btnYes">Yes</button>
    </div>
  </section>

  <!-- Stage -->
  <section class="stage" id="stage">

    <!-- After YES -->
    <div id="afterYes" class="hidden fade-in">
      <div class="msg">
        have a look at what i made for you my lady üíó ‚ú® ü´∂üèº
      </div>
      <div class="actions">
        <button class="btn lights-btn" id="btnLightsOff">Lights off</button>
      </div>
    </div>

    <!-- Music + Decor sequence -->
    <div id="afterLights" class="hidden fade-in">
      <div class="actions">
        <button class="btn" id="btnMusic">Music on</button>
      </div>
    </div>

    <div id="afterMusic" class="hidden fade-in">
      <div class="actions">
        <button class="btn" id="btnDecor1">Decorate</button>
      </div>

      <div class="decor-area" id="decorArea1" aria-hidden="true">
        <div class="ribbon" id="ribbon1">happy birthday madam üéÄ</div>
      </div>

      <div class="cake-area hidden" id="cakeBlock1">
        <div class="cake">
          <div class="tier t1"><div class="drip"></div></div>
          <div class="tier t2"><div class="drip"></div></div>
          <div class="tier t3"><div class="drip"></div></div>

          <!-- candles animated -->
          <div class="candles" id="candles1">
            <div class="candle"><div class="flame"></div></div>
            <div class="candle"><div class="flame"></div></div>
            <div class="candle"><div class="flame"></div></div>
          </div>

          <!-- slice visual for cut -->
          <div class="slice" id="slice1"></div>
        </div>

        <button class="btn" id="btnBlow1">blow the candles</button>
      </div>

      <!-- Long message with her picture (ONLY HER_PICTURE.jpg remains) -->
      <div class="msg hidden" id="message1">
        <p>To the birthday star, here's a little something that i crafted with all the sparkles and beauty just for you üéÄ</p>
        <div class="center" style="margin:12px 0;">
          <!-- Replace HER_PICTURE.jpg -->
          <img src="HER_PICTURE.jpg" alt="Her lovely picture" style="max-width: 100%; width: 280px; border-radius: 14px; box-shadow: var(--shadow);" />
        </div>
      </div>

      <div class="actions hidden" id="afterMsg1">
        <button class="btn" id="btnDecor2">Decorate</button>
      </div>
    </div>

    <!-- Second decorate sequence -->
    <div id="decorStep2" class="hidden fade-in">
      <div class="decor-area" id="decorArea2" aria-hidden="true">
        <div class="ribbon" id="ribbon2">happy birthday madamüéÄ</div>
      </div>

      <div class="cake-area" id="cakeBlock2">
        <div class="cake">
          <div class="tier t1"><div class="drip"></div></div>
          <div class="tier t2"><div class="drip"></div></div>
          <div class="tier t3"><div class="drip"></div></div>

          <!-- animated candles again -->
          <div class="candles" id="candles2">
            <div class="candle"><div class="flame"></div></div>
            <div class="candle"><div class="flame"></div></div>
            <div class="candle"><div class="flame"></div></div>
            <div class="candle"><div class="flame"></div></div>
          </div>

          <div class="slice" id="slice2"></div>
        </div>

        <button class="btn" id="btnBlow2">blow the candles</button>
      </div>

      <!-- Long message 2 WITHOUT the 3 images -->
      <div class="msg" id="message2">
        <p>"hello madam, so it's your birthday eh, happy Birthdayyyyyyy. its been a long time, i hope you're alright. so you're finally 17 yayyyyy lessgoooooo. well, i know i'm being way too excited for this but how can't i, afterall it's your birthday. been over a year since we lasted talked and i've missed you sooooo much since then. i tried wishing last year aswell but i was not able so i apologise for that. you sometimes i miss all the moments we had, those wher so beautiful. we used to jam, we talked a lot back in the day. there were moments when you got way too mad remember??? andi used to apologise like a baby all the time lol it was so funny. i remember how you asked me to sing a song for you and for the first time i sang for someone without hesitating and I SOUNDED HORRIBLE lol but you said you liked it so that made me happy too. and then there was that time when you were so mad at me that i litetally wrote 1000+ sorrys so that tumi mani juwa jate and you actually smiled after that, so much that you even uploaded it in your status lol. we even planned about going foe a drive, we decided that we'll go on a drive the moment we meet. well, those are some memories i have of you. i hope you're doing okay. i hope you're not as clumsy as you used to be. remember the day you fell in the bathroom??? the when you fell from stairs while coming back from tution??? i scolded you so much for being careless and you were literally just sitting like a child without replying to anything lol. ahh i miss those days. i hope you're doing alright, i hope ths birthday brings a lot of happiness and joy to your life. ahh well.... i just wish we could talk like the old days. once again, happy birthday My ladyüíó. stay happy and smile a lotü´∂"</p>
      </div>
    </div>

  </section>

  <div class="spacer"></div>
</div>

<!-- Dark overlay -->
<div id="overlay" class="dark-overlay" role="dialog" aria-modal="true" aria-label="Lights off">
  <button class="btn lights-btn" id="btnLightsOn">lights on</button>
</div>

<!-- Audio placeholder -->
<audio id="bgm" src="MUSIC_PLACEHOLDER.mp3" preload="auto"></audio>

<script>
  // Utility: random between
  const rand = (min, max) => Math.random() * (max - min) + min;

  // Floating emojis generator
  const floatLayer = document.getElementById('floatLayer');
  const emojis = ["üíó","üéÄ","‚ú®","ü´∂üèº","üíó","‚ú®","üéÄ","ü´∂üèº"];
  function spawnFloat(){
    const el = document.createElement('div');
    el.className = 'float';
    el.textContent = emojis[Math.floor(Math.random()*emojis.length)];
    el.style.left = rand(0, 100) + 'vw';
    el.style.setProperty('--x', rand(-40, 40) + 'px');
    el.style.animationDuration = rand(8, 16) + 's';
    el.style.opacity = rand(0.6, 1);
    floatLayer.appendChild(el);
    setTimeout(()=> el.remove(), 18000);
  }
  for(let i=0;i<22;i++) setTimeout(spawnFloat, i*350);
  setInterval(spawnFloat, 900);

  // Elements
  const banner1 = document.getElementById('banner1');
  const banner2 = document.getElementById('banner2');
  const btnYes = document.getElementById('btnYes');

  const afterYes = document.getElementById('afterYes');
  const btnLightsOff = document.getElementById('btnLightsOff');
  const overlay = document.getElementById('overlay');
  const btnLightsOn = document.getElementById('btnLightsOn');

  const afterLights = document.getElementById('afterLights');
  const btnMusic = document.getElementById('btnMusic');
  const afterMusic = document.getElementById('afterMusic');

  const btnDecor1 = document.getElementById('btnDecor1');
  const decorArea1 = document.getElementById('decorArea1');
  const ribbon1 = document.getElementById('ribbon1');
  const cakeBlock1 = document.getElementById('cakeBlock1');
  const btnBlow1 = document.getElementById('btnBlow1');
  const candles1 = document.getElementById('candles1');
  const slice1 = document.getElementById('slice1');
  const message1 = document.getElementById('message1');
  const afterMsg1 = document.getElementById('afterMsg1');

  const btnDecor2 = document.getElementById('btnDecor2');
  const decorStep2 = document.getElementById('decorStep2');
  const ribbon2 = document.getElementById('ribbon2');
  const cakeBlock2 = document.getElementById('cakeBlock2');
  const btnBlow2 = document.getElementById('btnBlow2');
  const candles2 = document.getElementById('candles2');
  const slice2 = document.getElementById('slice2');

  const bgm = document.getElementById('bgm');

  // Banner auto-advance
  setTimeout(()=>{
    banner1.classList.add('hidden');
    banner2.classList.remove('hidden');
    banner2.classList.add('fade-in');
  }, 2600);

  // YES -> message and Lights off button
  btnYes.addEventListener('click', ()=>{
    afterYes.classList.remove('hidden');
    afterYes.classList.add('fade-in');
    banner2.classList.add('hidden');
  });

  // Lights off
  btnLightsOff.addEventListener('click', ()=>{
    overlay.classList.add('show');
  });

  // Lights on
  btnLightsOn.addEventListener('click', ()=>{
    overlay.classList.remove('show');
    afterLights.classList.remove('hidden');
    afterLights.classList.add('fade-in');
  });

  // Music on
  btnMusic.addEventListener('click', async ()=>{
    afterMusic.classList.remove('hidden');
    afterMusic.classList.add('fade-in');
    btnMusic.disabled = true;

    try{
      await bgm.play();
    }catch(e){
      console.warn('Autoplay blocked. Replace MUSIC_PLACEHOLDER.mp3 and try interaction after user gesture.', e);
    }
  });

  // Decorate 1
  btnDecor1.addEventListener('click', ()=>{
    ribbon1.classList.add('show');
    spawnBalloons(decorArea1, 12);
    cakeBlock1.classList.remove('hidden');
    cakeBlock1.classList.add('fade-in');
  });

  // Blow + cut (first cake)
  btnBlow1.addEventListener('click', ()=>{
    blowCandles(candles1);
    slice1.classList.add('cut');
    btnBlow1.disabled = true;

    setTimeout(()=>{
      message1.classList.remove('hidden');
      message1.classList.add('fade-in');
      setTimeout(()=>{
        afterMsg1.classList.remove('hidden');
        afterMsg1.classList.add('fade-in');
      }, 400);
    }, 700);
  });

  // Decorate 2
  btnDecor2.addEventListener('click', ()=>{
    decorStep2.classList.remove('hidden');
    decorStep2.classList.add('fade-in');
    ribbon2.classList.add('show');
    const decorArea2 = document.getElementById('decorArea2');
    spawnBalloons(decorArea2, 14);
  });

  // Blow + cut (second cake)
  btnBlow2.addEventListener('click', ()=>{
    blowCandles(candles2);
    slice2.classList.add('cut');
    btnBlow2.disabled = true;
  });

  // Helpers
  function blowCandles(candlesWrap){
    candlesWrap.querySelectorAll('.flame').forEach(f => f.classList.add('off'));
  }

  function spawnBalloons(container, count=10){
    const palette = ['#ffd1ea','#ff9dd1','#ff6fb7','#ffe3f2','#ffcfe8'];
    for(let i=0;i<count;i++){
      const b = document.createElement('div');
      b.className = 'balloon';
      b.style.left = rand(0, 100)+'%';
      b.style.background = palette[Math.floor(Math.random()*palette.length)];
      b.style.animationDuration = rand(6, 12)+'s';
      b.style.animationDelay = rand(0, 2)+'s';
      b.style.transform = `rotate(${rand(-8,8)}deg)`;
      container.appendChild(b);
      setTimeout(()=> b.remove(), 14000);
    }
  }
</script>
</body>
</html>


